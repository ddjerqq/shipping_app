@using System.Linq.Expressions
@using Domain.Common
@typeparam TEnum where TEnum : Enum

<InputSelect
    TValue="TEnum"
    Value="@Value"
    ValueExpression="@ValueExpression"
    ValueChanged="@ValueChanged"
    @attributes="AdditionalAttributes"
    class="@(Tw.Merge(FormInputText.BaseClass, Class))">
    @foreach (var option in Options)
    {
        <option value="@option">@option.GetDisplayName()</option>
    }

    @ChildContent
</InputSelect>

@code {
    [Parameter]
    public string Class { get; set; } = null!;

    [Parameter]
    public TEnum Value { get; set; } = default!;

    [Parameter]
    public Expression<Func<TEnum>>? ValueExpression { get; set; }

    [Parameter]
    public EventCallback<TEnum> ValueChanged { get; set; }

    [Parameter]
    public RenderFragment? ChildContent { get; set; }

    [Parameter, EditorRequired]
    public IEnumerable<TEnum> Options { get; set; } = [];

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object> AdditionalAttributes { get; set; } = [];
}